!function(){function t(t,n){var e=document.createElement(t||"div");if(n)for(var i in n)e[i]=n[i];return e}function n(t){for(var n=arguments.length,e=1;n>e;e++)t.appendChild(arguments[e]);return t}function e(t){for(var n,e=arguments.length,i=1;e>i;i++)for(n in arguments[i])void 0===t[n]&&(t[n]=arguments[i][n]);return t}function i(t){for(var n,e=arguments.length,i=1;e>i;i++)for(n in arguments[i])t.style[o(t,n)]=arguments[i][n]}function o(t,n){for(var e=m.length,i=n.charAt(0).toUpperCase()+n.slice(1),o=0;e>o;o++){var s=m[o]+i;if(void 0!==t.style[s])return s;if(void 0!==t.style[n])return n}}function s(t){var n=Math.abs(t);return 0===n||n>1?1:t}function r(n,i){void 0!==this.node&&this.node.parentNode.removeChild(this.node),this.node=n,this.config={},this.supportAnimation=o(t(),"animation"),this.config={set speed(t){if(void 0===this.animationDuration)switch(t){case"fast":return this.animationDuration="2s";case"medium":return this.animationDuration="4s";case"slow":return this.animationDuration="6s";default:return this.animationDuration="2s"}}},e(this.config,i,l),this.topDiv=t("div",{className:"spinner-inner top"}),this.bottomDiv=t("div",{className:"spinner-inner bottom"}),this.mergeStyle()}var a=100,m=["webkit","Moz","O","ms"],l={size:1,topColor:"#FF0000",bottomColor:"#008000",speed:"fast"},u={spinnerInner:{width:"100px",height:"100px",position:"absolute",borderRadius:"50%",marginLeft:"-50px",marginTop:"-50px"},top:{background:"red",animation:"leftspin linear infinite",animationDuration:"2s",zIndex:"100"},bottom:{background:"green",animation:"rightspin linear infinite",animationDuration:"2s",transform:"scale(0.4)",zIndex:"1"}},p=function(){var e=t("style",{type:"text/css"});return n(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),c=function(){var t=window.getComputedStyle(document.documentElement,""),n=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],e="WebKit|Moz|MS|O".match(new RegExp("("+n+")","i"))[1];return{dom:e,lowercase:n,css:"-"+n+"-",js:n[0].toUpperCase()+n.substr(1)}}();r.prototype={spin:function(){var t=this;if(void 0===this.supportAnimation){var n=0,e=!0,i=!0,o=.05,s=2,r=.4,a=.7,m=1,l=!0,u=t.config.dimension/2,p=(m-a)*s/u;!function c(){1==e?n+=s:n-=s,n>=u&&1==e?(e=!e,l=!l):0>=n&&0==e&&(e=!e,i=!i),i?(m-=p,r+=p):(m+=p,r-=p),t.moveTopDiv(n,m,i,l),t.moveBottomDiv(n,r,i,l),t.timeout=setTimeout(c,1/o)}()}else this.addKeyframes()},moveTopDiv:function(t,n,e,i){var o=e?"-":"",s=i?"":"-";this.topDiv.style[c.css+"transform"]="translateX("+o+t+"px) scale("+n+")",this.topDiv.style.zIndex=s+10},moveBottomDiv:function(t,n,e,i){var o=e?"":"-",s=i?"-":"";this.bottomDiv.style[c.css+"transform"]="translateX("+o+t+"px) scale("+n+")",this.bottomDiv.style.zIndex=s+10},mergeStyle:function(t){var e=t||this.config,o=u,r=a*s(e.size);return e.animationDuration||(this.config.speed=e.speed),o.spinnerInner.width=o.spinnerInner.height=r+"px",o.spinnerInner.marginLeft=o.spinnerInner.marginTop="-"+parseInt(r)/2+"px",o.top.animationDuration=o.bottom.animationDuration=this.config.animationDuration,o.top.background=e.topColor,o.bottom.background=e.bottomColor,i(this.topDiv,o.spinnerInner,o.top),i(this.bottomDiv,o.spinnerInner,o.bottom),n(this.node,this.topDiv,this.bottomDiv),this.config.dimension=r,this},addKeyframes:function(){var t=c.css,n=this.config.dimension/2;p.insertRule("@"+t+"keyframes leftspin {0% {"+t+"transform: scale(1) translateX(0px);}25%{"+t+"transform: scale(0.7) translateX(-"+n+"px);z-index : 10;}26% {z-index : 1;}50% {"+t+"transform: scale(0.4) translateX(0px);}75% {"+t+"transform: scale(0.7) translateX("+n+"px);}76% {z-index: 10;}100%{"+t+"transform: scale(1) translateX(0px);}",p.cssRules.length),p.insertRule("@"+t+"keyframes rightspin {0% {"+t+"transform: scale(0.4) translateX(0px);}25%{"+t+"transform: scale(0.7) translateX("+n+"px);z-index: 1;}26% {z-index: 10;}50% {"+t+"transform: scale(1) translateX(0px);}75% {"+t+"transform: scale(0.7) translateX(-"+n+"px);z-index: 10;}76% {z-index: 1;}100% {"+t+"transform: scale(0.4) translateX(0px);}}",p.cssRules.length),console.log(p)},removeKeyframes:function(){for(var t=p.rules.length,n=0;t>n;n++)p.deleteRule(0);return this},updateStyle:function(t){this.mergeStyle(t).removeKeyframes().spin()}},window.DoubleSpin=r}();